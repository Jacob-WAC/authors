(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(56),r=c.n(a),o=(c(64),c(9)),j=c(6),i=c(10),u=c.n(i),l=c(0),b=function(e){var t=e.authors;return Object(l.jsx)("div",{children:Object(l.jsxs)("table",{class:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"Author"}),Object(l.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(l.jsx)("tbody",{children:t.map((function(t,c){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.name}),Object(l.jsxs)("td",{children:[Object(l.jsx)(j.b,{to:"/author/edit/".concat(t._id),children:Object(l.jsx)("button",{children:"edit"})})," ","|"," ",Object(l.jsx)("button",{onClick:function(c){var n;n=t._id,u.a.delete("http://localhost:8000/api/authors/"+n).then((function(e){})).catch((function(e){return console.error(e)})),e.setLoaded(!1)},children:"Delete"})]})]},c)}))})]})})},h=function(e){e.name,e.setName;var t=e.loaded,c=e.setLoaded,s=Object(n.useState)([]),a=Object(o.a)(s,2),r=a[0],i=a[1];return e.setName(""),Object(n.useEffect)((function(){u.a.get("http://localhost:8000/api/authors").then((function(e){i(e.data),c(!0)})).catch((function(e){return console.error(e)}))}),[t]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Favorite Authors"}),Object(l.jsx)(j.b,{to:"/author/create",children:"Add New Author"}),Object(l.jsx)("p",{children:"We have qoutes by:"}),t&&Object(l.jsx)(b,{authors:r,setLoaded:c})]})},d=c(59),O=c.n(d),m=c(2),x=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Nice try, this isn't a real page though"}),Object(l.jsx)(j.b,{to:"/",children:"Back Home"})]})},f=function(e){var t=Object(m.f)().id,c=Object(n.useState)({}),s=Object(o.a)(c,2),a=s[0],r=s[1],i=Object(m.e)(),b=Object(n.useState)([]),h=Object(o.a)(b,2),d=h[0],O=h[1],f=Object(n.useState)({}),p=Object(o.a)(f,2),v=p[0],g=p[1];Object(n.useEffect)((function(){u.a.get("http://localhost:8000/api/authors").then((function(e){O(e.data)})).catch((function(e){return console.error(e)}))})),Object(n.useEffect)((function(){u.a.get("http://localhost:8000/api/authors/"+t).then((function(t){e.setName(t.data.name),g(t.data)}))}),[]);return Object(l.jsx)("div",{children:d.some((function(){return v._id}))?Object(l.jsxs)("form",{onSubmit:function(c){c.preventDefault(),u.a.put("http://localhost:8000/api/authors/"+t,{name:e.name}).then((function(t){console.log(t),t.data.errors?r(t.data.errors):(r({}),e.setName(""),i.push("/"))})).catch((function(e){return console.error(e)}))},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"form-control",type:"text",onChange:function(t){return e.setName(t.target.value)},value:e.name}),a.name?Object(l.jsx)("p",{className:"text-danger",children:a.name.message}):""]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)(j.b,{to:"/",children:[" ",Object(l.jsx)("button",{className:"btn btn-success mt-3 ",children:"Back Home"})]}),Object(l.jsx)("input",{className:"btn btn-success mt-3 ms-3",value:"Update Author",type:"submit"})]})]}):Object(l.jsx)(x,{})})},p=function(e){var t=Object(n.useState)({}),c=Object(o.a)(t,2),s=c[0],a=c[1],r=Object(m.e)();return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),u.a.post("http://localhost:8000/api/new",{name:e.name}).then((function(t){console.log(t.data.errors),t.data.errors?a(t.data.errors):(a({}),e.setName(""),r.push("/"))})).catch((function(e){return console.log(e)}))},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Name:"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{className:"form-control",type:"text",onChange:function(t){return e.setName(t.target.value)},value:e.name}),s.name?Object(l.jsx)("p",{className:"text-danger",children:s.name.message}):""]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)(j.b,{to:"/",children:[" ",Object(l.jsx)("button",{className:"btn btn-success mt-3 ",children:"Back Home"})]}),Object(l.jsx)("input",{className:"btn btn-success mt-3 ms-3",value:"Create Author",type:"submit"})]})]})},v=function(e){var t=e.name,c=e.setName;return Object(l.jsx)("div",{children:Object(l.jsx)(p,{name:t,setName:c})})};var g=function(e){var t=Object(n.useState)((function(){return O()(":8000")})),c=Object(o.a)(t,1)[0],s=Object(n.useState)(""),a=Object(o.a)(s,2),r=a[0],i=a[1],u=Object(n.useState)(!1),b=Object(o.a)(u,2),d=b[0],x=b[1];return Object(n.useEffect)((function(){return console.log("Is this running?"),c.on("Welcome",(function(e){return console.log(e)})),function(){return c.disconnect(!0)}}),[]),Object(l.jsx)(j.a,{children:Object(l.jsxs)("div",{className:"App container",children:[Object(l.jsx)(m.a,{exact:!0,path:"/",children:Object(l.jsx)(h,{loaded:d,setLoaded:x,name:r,setName:i})}),Object(l.jsx)(m.a,{path:"/author/edit/:id",children:Object(l.jsx)(f,{name:r,setName:i})}),Object(l.jsx)(m.a,{exact:!0,path:"/author/create",children:Object(l.jsx)(v,{name:r,setName:i,loaded:d,setLoaded:x})})]})})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,118)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),N()},64:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.f518a6d5.chunk.js.map